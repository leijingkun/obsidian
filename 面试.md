https://annevi.cn/2021/03/25/2021-spring-interview/


### 自挖简历
- ssrf
首先这个挖到过盲ssrf,在理赔小程序里,上传理赔材料的流程是先上传到oss,然后这个oss的url作为参数来ocr,这个url可以修改我的vps,可以成功接收到请求.利用的话就是探测内网端口是否开放,请求外带,有时候这些接口会带有敏感信息,
其次是有回显的ssrf,这个危害就很大了,因为内网的资产的资产一般比较薄弱,第二个是我们的资产都在云上,可以通过读取元数据,拿到sts的ak/sk,通过阿里云的api,如果权限配置不当,可以接管云上服务器,也可批量扫描云上主机.

- 水平越权获取个人信息
支付宝-理赔小程序,首先是这个逻辑是在填完所有的理赔资料后,会自动生成一个pdf,用来预览保单,但是其中的保单号和报案号,没有做绑定,导致可以遍历保单号来批量生成带有个人信息的保单,返回一个oss地址可以下载这个文件

- 任意文件读取
这个是客服手机的后台管理系统,观察到有一个接口的参数为文件地址/data/data,尝试抓包并修改,发现返回md5校验不正确,存在签名,js逆向获取sign算法,发现是对随机生成一个16位的aes密钥,然后将token和sign
手机端做渗透,首先限制比较多,因为手机的系统被定制过,无法root,安装了不可信的用户证书,抓到了包,但是由于后管系统限制,这个token无法登录后管,然后目标转向本地数据,本身数据是不允许看到的,使用adb导出数据,发现未脱敏.






